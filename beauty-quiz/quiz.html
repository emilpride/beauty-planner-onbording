<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beauty Mirror Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/zustand@4.5.5/esm/index.js"></script>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100">
    <div id="app"></div>

    <script type="module">
        // Simple state management
        let currentStep = 0;
        let answers = {
            assistant: 1,
            name: '',
            age: null,
            gender: 0,
            height: '',
            weight: '',
            heightUnit: 'ft&in',
            weightUnit: 'lbs',
            ethnicGroup: '',
            goal: 0,
            lifestyle: 0,
            sleepHours: 8,
            wakeUpTime: '07:00',
            endDayTime: '22:30',
            stressLevel: 0,
            workEnvironment: 0,
            physicalActivities: [],
            diet: 0,
            mood: 0,
            energyLevel: 0,
            procrastination: 0,
            focus: 0,
            organizationInfluence: 0,
            skinType: 0,
            skinProblems: [],
            hairType: 0,
            hairProblems: [],
            faceImageUrl: '',
            hairImageUrl: '',
            aiAnalysis: null,
            subscriptionPlan: '',
            paymentCompleted: false,
            onboardingComplete: false,
        };

        const totalSteps = 29;

        // Card heights for each step
        const cardHeights = [
            0.42, 0.42, 0.6, 0.4, 0.44, 0.45, 0.43, 0.82, 0.45, 0.6,
            0.55, 0.55, 0.5, 0.5, 0.5, 0.6, 0.6, 0.6, 0.6, 0.6,
            0.6, 0.6, 0.6, 0.6, 0.6, 0.6, 0.7, 0.82, 1.0
        ];

        function renderApp() {
            const app = document.getElementById('app');
            
            if (currentStep === 0) {
                app.innerHTML = renderWelcomePage();
            } else if (currentStep < 26) {
                app.innerHTML = renderQuizStep();
            } else {
                app.innerHTML = renderFullScreenStep();
            }
        }

        function renderWelcomePage() {
            return `
                <div class="min-h-screen flex items-center justify-center px-4">
                    <div class="max-w-md mx-auto text-center">
                        <div class="bg-white rounded-2xl shadow-2xl p-8">
                            <div class="mb-8">
                                <div class="w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6">
                                    <span class="text-4xl">✨</span>
                                </div>
                                <h1 class="text-3xl font-bold text-gray-900 mb-4">
                                    Beauty Mirror
                                </h1>
                                <p class="text-lg text-gray-600 mb-2">
                                    Your Personal AI Assistant
                                </p>
                                <p class="text-sm text-gray-500">
                                    Find your true beauty through the perfect balance of self-care, mental well-being, and physical health
                                </p>
                            </div>

                            <button
                                onclick="startQuiz()"
                                class="w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold py-4 px-8 rounded-xl transition-all duration-200"
                            >
                                Let's Go
                            </button>

                            <p class="text-xs text-gray-500 mt-4">
                                The information provided is for educational purposes only
                            </p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderQuizStep() {
            const stepComponent = getStepComponent(currentStep);
            const currentCardHeight = cardHeights[currentStep] || 0.5;
            const assistantName = answers.assistant === 2 ? 'Ellie' : 'Max';
            const imageSrc = getImageForStep(currentStep, assistantName);

            return `
                <div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 relative overflow-hidden">
                    <!-- Background ellipse -->
                    <div class="absolute top-0 left-0 right-0 h-[45vh] bg-gradient-to-br from-blue-100 to-purple-100 rounded-b-[50%] opacity-50"></div>
                    
                    <!-- Top image -->
                    <div class="absolute top-[13vh] left-0 right-0 flex justify-center z-10">
                        <div class="transition-all duration-500 opacity-100 translate-y-0">
                            ${imageSrc ? `<img src="${imageSrc}" alt="Step ${currentStep}" class="object-contain" style="height: ${(1 - currentCardHeight) * 100 - 8}vh" />` : ''}
                        </div>
                    </div>

                    <!-- Bottom card -->
                    <div class="absolute bottom-8 left-4 right-4 z-20">
                        <div class="bg-white rounded-2xl shadow-2xl transition-all duration-800 translate-y-0 opacity-100" style="height: ${currentCardHeight * 100}vh">
                            <div class="h-full flex flex-col">
                                <div class="flex-1 overflow-y-auto">
                                    ${stepComponent}
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- App Bar -->
                    <div class="absolute top-14 left-0 right-0 z-30 px-4">
                        <div class="flex justify-between items-center">
                            <button
                                onclick="goBack()"
                                class="w-10 h-10 bg-white/80 backdrop-blur-sm rounded-full flex items-center justify-center shadow-lg"
                            >
                                ←
                            </button>
                            <div class="text-sm font-medium text-gray-600">
                                ${currentStep + 1} / ${totalSteps}
                            </div>
                            <div class="w-10"></div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderFullScreenStep() {
            const stepComponent = getStepComponent(currentStep);
            return `
                <div class="h-screen flex items-center justify-center">
                    ${stepComponent}
                </div>
            `;
        }

        function getStepComponent(step) {
            switch(step) {
                case 0: return renderWelcomeStep();
                case 1: return renderGenderStep();
                case 2: return renderGoalStep();
                case 3: return renderCongratulationsStep();
                case 4: return renderExcitedStep();
                case 5: return renderStatisticStep();
                case 6: return renderPrivacyStep();
                case 7: return renderGeneralStep();
                case 8: return renderLifestyleStep();
                case 9: return renderSleepStep();
                case 10: return renderWakeUpStep();
                case 11: return renderEndDayStep();
                case 12: return renderStressStep();
                case 13: return renderWorkEnvironmentStep();
                case 14: return renderSkinTypeStep();
                case 15: return renderSkinProblemsStep();
                case 16: return renderHairTypeStep();
                case 17: return renderHairProblemsStep();
                case 18: return renderPhysicalActivitiesStep();
                case 19: return renderActivityFrequencyStep();
                case 20: return renderDietStep();
                case 21: return renderMoodStep();
                case 22: return renderEnergyLevelStep();
                case 23: return renderProcrastinationStep();
                case 24: return renderFocusStep();
                case 25: return renderOrganizationInfluenceStep();
                case 26: return renderAnalysisIntroStep();
                case 27: return renderPhotoUploadStep();
                case 28: return renderAIResultsStep();
                default: return renderWelcomeStep();
            }
        }

        function renderWelcomeStep() {
            const assistantName = answers.assistant === 2 ? 'Ellie' : 'Max';
            return `
                <div class="h-full flex flex-col">
                    <div class="flex-1 overflow-y-auto p-6">
                        <div class="space-y-6">
                            <h1 class="text-2xl font-bold text-gray-900 leading-tight">
                                Hi! I'm ${assistantName}, your personal AI assistant.
                            </h1>
                            <p class="text-base font-medium text-gray-700 leading-relaxed">
                                I'm here to help you find your true beauty through the perfect balance of self-care, mental well-being, and physical health.
                                <br><br>
                                The information and recommendations provided by the Beauty Mirror app are for informational and educational purposes only. This app is not intended to be a substitute for professional medical advice, diagnosis, or treatment.
                            </p>
                        </div>
                    </div>
                    <div class="p-6 pt-0">
                        <button
                            onclick="nextStep()"
                            class="w-full py-4 px-6 rounded-xl font-semibold text-lg transition-all duration-200 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg hover:shadow-xl"
                        >
                            Let's Go
                        </button>
                    </div>
                </div>
            `;
        }

        function renderGenderStep() {
            return `
                <div class="h-full flex flex-col">
                    <div class="flex-1 overflow-y-auto p-6">
                        <div class="space-y-6">
                            <h1 class="text-2xl font-bold text-gray-900 leading-tight">
                                Select Your Gender
                            </h1>
                            <p class="text-base font-medium text-gray-700 leading-relaxed">
                                Let us know a bit about you!
                            </p>
                            <div class="flex justify-center space-x-8">
                                <div onclick="selectGender(1)" class="relative cursor-pointer transition-all duration-200 ${answers.gender === 1 ? 'scale-105' : 'hover:scale-102'}">
                                    <div class="w-32 h-32 rounded-full border-2 transition-all duration-200 ${answers.gender === 1 ? 'border-blue-500 shadow-lg' : 'border-transparent hover:border-gray-300'}">
                                        <div class="w-full h-full rounded-full bg-blue-100 p-1">
                                            <div class="w-full h-full rounded-full bg-blue-50 flex items-end justify-center overflow-hidden">
                                                <div class="w-24 h-24 bg-blue-200 rounded-full flex items-center justify-center">
                                                    <span class="text-2xl">👨</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="text-center mt-2">
                                        <span class="text-sm font-medium text-gray-700">Male</span>
                                    </div>
                                </div>
                                <div onclick="selectGender(2)" class="relative cursor-pointer transition-all duration-200 ${answers.gender === 2 ? 'scale-105' : 'hover:scale-102'}">
                                    <div class="w-32 h-32 rounded-full border-2 transition-all duration-200 ${answers.gender === 2 ? 'border-pink-500 shadow-lg' : 'border-transparent hover:border-gray-300'}">
                                        <div class="w-full h-full rounded-full bg-pink-100 p-1">
                                            <div class="w-full h-full rounded-full bg-pink-50 flex items-end justify-center overflow-hidden">
                                                <div class="w-24 h-24 bg-pink-200 rounded-full flex items-center justify-center">
                                                    <span class="text-2xl">👩</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="text-center mt-2">
                                        <span class="text-sm font-medium text-gray-700">Female</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="p-6 pt-0">
                        <button
                            onclick="nextStep()"
                            disabled="${answers.gender === 0}"
                            class="w-full py-4 px-6 rounded-xl font-semibold text-lg transition-all duration-200 ${answers.gender !== 0 ? 'bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg hover:shadow-xl' : 'bg-gray-200 text-gray-500 cursor-not-allowed'}"
                        >
                            Next
                        </button>
                    </div>
                </div>
            `;
        }

        function renderGoalStep() {
            const goals = [
                { id: 1, title: 'Improve Physical Health', description: 'Build strength, endurance, and overall fitness', emoji: '💪' },
                { id: 2, title: 'Enhance Mental Well-being', description: 'Reduce stress, improve mood, and build resilience', emoji: '🧠' },
                { id: 3, title: 'Better Skin & Hair Care', description: 'Develop a personalized beauty routine', emoji: '✨' },
                { id: 4, title: 'Achieve Work-Life Balance', description: 'Manage time better and reduce burnout', emoji: '⚖️' }
            ];

            return `
                <div class="h-full flex flex-col">
                    <div class="flex-1 overflow-y-auto p-6">
                        <div class="space-y-6">
                            <h1 class="text-2xl font-bold text-gray-900 leading-tight">
                                What's Your Main Goal?
                            </h1>
                            <p class="text-base font-medium text-gray-700 leading-relaxed">
                                Choose what you'd like to focus on most
                            </p>
                            <div class="grid grid-cols-2 gap-4">
                                ${goals.map(goal => `
                                    <div onclick="selectGoal(${goal.id})" class="relative cursor-pointer transition-all duration-200 ${answers.goal === goal.id ? 'scale-105' : 'hover:scale-102'}">
                                        <div class="rounded-xl p-4 border-2 transition-all duration-200 ${answers.goal === goal.id ? 'border-blue-500 bg-blue-50 shadow-lg' : 'border-gray-200 bg-white hover:border-gray-300'}">
                                            <div class="text-center">
                                                <div class="text-3xl mb-2">${goal.emoji}</div>
                                                <h3 class="text-sm font-semibold text-gray-900 mb-1">${goal.title}</h3>
                                                <p class="text-xs text-gray-600 leading-tight">${goal.description}</p>
                                            </div>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                    <div class="p-6 pt-0">
                        <button
                            onclick="nextStep()"
                            disabled="${answers.goal === 0}"
                            class="w-full py-4 px-6 rounded-xl font-semibold text-lg transition-all duration-200 ${answers.goal !== 0 ? 'bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg hover:shadow-xl' : 'bg-gray-200 text-gray-500 cursor-not-allowed'}"
                        >
                            Next
                        </button>
                    </div>
                </div>
            `;
        }

        function renderCongratulationsStep() {
            const assistantName = answers.assistant === 2 ? 'Ellie' : 'Max';
            return `
                <div class="h-full flex flex-col">
                    <div class="flex-1 overflow-y-auto p-6">
                        <div class="space-y-6">
                            <h1 class="text-2xl font-bold text-gray-900 leading-tight">
                                Congratulations! 🎉
                            </h1>
                            <p class="text-base font-medium text-gray-700 leading-relaxed">
                                Great choice! ${assistantName} is excited to help you achieve your goals. Let's get started with some basic information about you.
                            </p>
                            <div class="text-center py-8">
                                <div class="w-20 h-20 bg-gradient-to-br from-green-400 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <span class="text-3xl">✨</span>
                                </div>
                                <p class="text-gray-600">
                                    We're going to ask you a few questions to create your personalized plan.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="p-6 pt-0">
                        <button
                            onclick="nextStep()"
                            class="w-full py-4 px-6 rounded-xl font-semibold text-lg transition-all duration-200 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg hover:shadow-xl"
                        >
                            Continue
                        </button>
                    </div>
                </div>
            `;
        }

        function renderExcitedStep() {
            const assistantName = answers.assistant === 2 ? 'Ellie' : 'Max';
            return `
                <div class="h-full flex flex-col">
                    <div class="flex-1 overflow-y-auto p-6">
                        <div class="space-y-6">
                            <h1 class="text-2xl font-bold text-gray-900 leading-tight">
                                I'm So Excited! 😊
                            </h1>
                            <p class="text-base font-medium text-gray-700 leading-relaxed">
                                I can't wait to help you on this journey! ${assistantName} is here to guide you every step of the way.
                            </p>
                            <div class="text-center py-6">
                                <div class="w-16 h-16 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <span class="text-2xl">🚀</span>
                                </div>
                                <p class="text-gray-600 text-sm">
                                    This will only take a few minutes, and the results will be amazing!
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="p-6 pt-0">
                        <button
                            onclick="nextStep()"
                            class="w-full py-4 px-6 rounded-xl font-semibold text-lg transition-all duration-200 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg hover:shadow-xl"
                        >
                            Let's Begin
                        </button>
                    </div>
                </div>
            `;
        }

        function renderStatisticStep() {
            const assistantName = answers.assistant === 2 ? 'Ellie' : 'Max';
            return `
                <div class="h-full flex flex-col">
                    <div class="flex-1 overflow-y-auto p-6">
                        <div class="space-y-6">
                            <h1 class="text-2xl font-bold text-gray-900 leading-tight">
                                Did You Know? 📊
                            </h1>
                            <p class="text-base font-medium text-gray-700 leading-relaxed">
                                ${assistantName} has helped over 10,000 people improve their health and well-being!
                            </p>
                            <div class="space-y-4">
                                <div class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center">
                                            <span class="text-white font-bold">95%</span>
                                        </div>
                                        <div>
                                            <h3 class="font-semibold text-gray-900">Success Rate</h3>
                                            <p class="text-sm text-gray-600">of users see improvements</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center">
                                            <span class="text-white font-bold">30</span>
                                        </div>
                                        <div>
                                            <h3 class="font-semibold text-gray-900">Days Average</h3>
                                            <p class="text-sm text-gray-600">to see first results</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-4">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center">
                                            <span class="text-white font-bold">4.8</span>
                                        </div>
                                        <div>
                                            <h3 class="font-semibold text-gray-900">User Rating</h3>
                                            <p class="text-sm text-gray-600">out of 5 stars</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="p-6 pt-0">
                        <button
                            onclick="nextStep()"
                            class="w-full py-4 px-6 rounded-xl font-semibold text-lg transition-all duration-200 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg hover:shadow-xl"
                        >
                            That's Amazing!
                        </button>
                    </div>
                </div>
            `;
        }

        function renderPrivacyStep() {
            const assistantName = answers.assistant === 2 ? 'Ellie' : 'Max';
            return `
                <div class="h-full flex flex-col">
                    <div class="flex-1 overflow-y-auto p-6">
                        <div class="space-y-6">
                            <h1 class="text-2xl font-bold text-gray-900 leading-tight">
                                Your Privacy Matters 🔒
                            </h1>
                            <p class="text-base font-medium text-gray-700 leading-relaxed">
                                ${assistantName} respects your privacy. All your data is encrypted and secure.
                            </p>
                            <div class="space-y-4">
                                <div class="bg-gray-50 rounded-xl p-4">
                                    <h3 class="font-semibold text-gray-900 mb-2">What we collect:</h3>
                                    <ul class="text-sm text-gray-600 space-y-1">
                                        <li>• Basic health information (age, gender, etc.)</li>
                                        <li>• Your preferences and goals</li>
                                        <li>• Photos for AI analysis (optional)</li>
                                    </ul>
                                </div>
                                <div class="bg-blue-50 rounded-xl p-4">
                                    <h3 class="font-semibold text-gray-900 mb-2">How we protect it:</h3>
                                    <ul class="text-sm text-gray-600 space-y-1">
                                        <li>• End-to-end encryption</li>
                                        <li>• No data sharing with third parties</li>
                                        <li>• You can delete your data anytime</li>
                                    </ul>
                                </div>
                                <p class="text-xs text-gray-500 text-center">
                                    By continuing, you agree to our Privacy Policy and Terms of Service.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="p-6 pt-0">
                        <button
                            onclick="nextStep()"
                            class="w-full py-4 px-6 rounded-xl font-semibold text-lg transition-all duration-200 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg hover:shadow-xl"
                        >
                            I Understand
                        </button>
                    </div>
                </div>
            `;
        }

        function renderGeneralStep() {
            return `
                <div class="h-full flex flex-col">
                    <div class="flex-1 overflow-y-auto p-6">
                        <div class="space-y-6">
                            <h1 class="text-2xl font-bold text-gray-900 leading-tight">
                                Tell Us About Yourself
                            </h1>
                            <p class="text-base font-medium text-gray-700 leading-relaxed">
                                This helps us create a personalized plan just for you
                            </p>
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Full Name *</label>
                                    <input
                                        type="text"
                                        value="${answers.name}"
                                        onchange="updateAnswer('name', this.value)"
                                        class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all duration-200"
                                        placeholder="Enter your full name"
                                    />
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Age *</label>
                                    <input
                                        type="number"
                                        min="13"
                                        max="100"
                                        value="${answers.age || ''}"
                                        onchange="updateAnswer('age', parseInt(this.value) || null)"
                                        class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all duration-200"
                                        placeholder="Enter your age"
                                    />
                                </div>
                                <div class="grid grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Height *</label>
                                        <div class="flex">
                                            <input
                                                type="text"
                                                value="${answers.height}"
                                                onchange="updateAnswer('height', this.value)"
                                                class="flex-1 px-4 py-3 border border-gray-300 rounded-l-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all duration-200"
                                                placeholder="5'8\""
                                            />
                                            <select
                                                value="${answers.heightUnit}"
                                                onchange="updateAnswer('heightUnit', this.value)"
                                                class="px-3 py-3 border border-l-0 border-gray-300 rounded-r-xl bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"
                                            >
                                                <option value="ft&in">ft&in</option>
                                                <option value="cm">cm</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Weight *</label>
                                        <div class="flex">
                                            <input
                                                type="text"
                                                value="${answers.weight}"
                                                onchange="updateAnswer('weight', this.value)"
                                                class="flex-1 px-4 py-3 border border-gray-300 rounded-l-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all duration-200"
                                                placeholder="150"
                                            />
                                            <select
                                                value="${answers.weightUnit}"
                                                onchange="updateAnswer('weightUnit', this.value)"
                                                class="px-3 py-3 border border-l-0 border-gray-300 rounded-r-xl bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"
                                            >
                                                <option value="lbs">lbs</option>
                                                <option value="kg">kg</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="p-6 pt-0">
                        <button
                            onclick="nextStep()"
                            disabled="${!answers.name.trim() || !answers.age || !answers.height.trim() || !answers.weight.trim()}"
                            class="w-full py-4 px-6 rounded-xl font-semibold text-lg transition-all duration-200 ${answers.name.trim() && answers.age && answers.height.trim() && answers.weight.trim() ? 'bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg hover:shadow-xl' : 'bg-gray-200 text-gray-500 cursor-not-allowed'}"
                        >
                            Next
                        </button>
                    </div>
                </div>
            `;
        }

        // Placeholder functions for other steps
        function renderLifestyleStep() { return renderSimpleStep('What\'s Your Lifestyle Like?', 'This helps us understand your activity level'); }
        function renderSleepStep() { return renderSimpleStep('How Many Hours Do You Sleep?', 'Sleep is crucial for your health and well-being'); }
        function renderWakeUpStep() { return renderSimpleStep('What Time Do You Wake Up?', 'This helps us schedule your activities'); }
        function renderEndDayStep() { return renderSimpleStep('What Time Do You End Your Day?', 'When do you typically go to bed?'); }
        function renderStressStep() { return renderSimpleStep('How Stressed Do You Feel?', 'Rate your current stress level'); }
        function renderWorkEnvironmentStep() { return renderSimpleStep('What\'s Your Work Environment?', 'This affects your daily routine'); }
        function renderSkinTypeStep() { return renderSimpleStep('What\'s Your Skin Type?', 'Choose the description that best fits'); }
        function renderSkinProblemsStep() { return renderSimpleStep('What Skin Problems Do You Have?', 'Select all that apply'); }
        function renderHairTypeStep() { return renderSimpleStep('What\'s Your Hair Type?', 'Choose the description that best fits'); }
        function renderHairProblemsStep() { return renderSimpleStep('What Hair Problems Do You Have?', 'Select all that apply'); }
        function renderPhysicalActivitiesStep() { return renderSimpleStep('What Physical Activities Do You Do?', 'Select all that apply'); }
        function renderActivityFrequencyStep() { return renderSimpleStep('How Often Do You Exercise?', 'This helps us plan your routine'); }
        function renderDietStep() { return renderSimpleStep('What\'s Your Diet Like?', 'This affects your nutrition needs'); }
        function renderMoodStep() { return renderSimpleStep('How Are You Feeling Today?', 'Rate your current mood'); }
        function renderEnergyLevelStep() { return renderSimpleStep('What\'s Your Energy Level?', 'Rate your current energy'); }
        function renderProcrastinationStep() { return renderSimpleStep('Do You Procrastinate?', 'Rate how often you delay tasks'); }
        function renderFocusStep() { return renderSimpleStep('How Well Can You Focus?', 'Rate your ability to concentrate'); }
        function renderOrganizationInfluenceStep() { return renderSimpleStep('How Organized Are You?', 'Rate your organizational skills'); }
        function renderAnalysisIntroStep() { return renderSimpleStep('Ready for AI Analysis? 🤖', 'AI will analyze your photos to provide personalized recommendations'); }
        function renderPhotoUploadStep() { return renderSimpleStep('Upload Your Photos 📸', 'AI will analyze your skin and hair condition'); }
        function renderAIResultsStep() { return renderSimpleStep('Analysis Complete! 🎉', 'Your personalized plan is ready'); }

        function renderSimpleStep(title, subtitle) {
            return `
                <div class="h-full flex flex-col">
                    <div class="flex-1 overflow-y-auto p-6">
                        <div class="space-y-6">
                            <h1 class="text-2xl font-bold text-gray-900 leading-tight">${title}</h1>
                            <p class="text-base font-medium text-gray-700 leading-relaxed">${subtitle}</p>
                            <div class="text-center py-8">
                                <div class="w-20 h-20 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <span class="text-3xl">✨</span>
                                </div>
                                <p class="text-gray-600">This step is ready for implementation</p>
                            </div>
                        </div>
                    </div>
                    <div class="p-6 pt-0">
                        <button
                            onclick="nextStep()"
                            class="w-full py-4 px-6 rounded-xl font-semibold text-lg transition-all duration-200 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg hover:shadow-xl"
                        >
                            Next
                        </button>
                    </div>
                </div>
            `;
        }

        function getImageForStep(step, assistant) {
            const assistantSuffix = assistant === 'ellie' ? 'ellie' : 'max';
            const stepImages = {
                0: `/images/onboarding/onboarding_img_1_${assistantSuffix}.png`,
                1: `/images/onboarding/onboarding_img_2_${assistantSuffix}.png`,
                2: `/images/onboarding/onboarding_img_3_${assistantSuffix}.png`,
                3: `/images/onboarding/onboarding_img_4_${assistantSuffix}.png`,
                4: `/images/onboarding/onboarding_img_5.png`,
                5: `/images/onboarding/onboarding_img_6.png`,
                6: `/images/onboarding/onboarding_img_7_${assistantSuffix}.png`,
                7: `/images/onboarding/onboarding_img_8.png`,
                8: `/images/onboarding/onboarding_img_9_${assistantSuffix}.png`,
                9: `/images/onboarding/onboarding_img_10_${assistantSuffix}.png`,
                10: `/images/onboarding/onboarding_img_11_${assistantSuffix}.png`,
                11: `/images/onboarding/onboarding_img_12_${assistantSuffix}.png`,
                12: `/images/onboarding/onboarding_img_13_${assistantSuffix}.png`,
                13: `/images/onboarding/onboarding_img_14_${assistantSuffix}.png`,
                14: `/images/onboarding/onboarding_img_15_${assistantSuffix}.png`,
                15: `/images/onboarding/onboarding_img_16_${assistantSuffix}.png`,
                16: `/images/onboarding/onboarding_img_17_${assistantSuffix}.png`,
                17: `/images/onboarding/onboarding_img_18_${assistantSuffix}.png`,
                18: `/images/onboarding/onboarding_img_19_${assistantSuffix}.png`,
                19: `/images/onboarding/onboarding_img_20_${assistantSuffix}.png`,
                20: `/images/onboarding/onboarding_img_21_${assistantSuffix}.png`,
                21: `/images/onboarding/onboarding_img_22_${assistantSuffix}.png`,
                22: `/images/onboarding/onboarding_img_23_${assistantSuffix}.png`,
                23: `/images/onboarding/onboarding_img_24_${assistantSuffix}.png`,
                24: `/images/onboarding/onboarding_img_25_${assistantSuffix}.png`,
                25: `/images/onboarding/onboarding_img_26_${assistantSuffix}.png`,
                26: `/images/onboarding/onboarding_img_27.png`,
                27: '', // Photo upload - no image
                28: '', // AI Results - no image
            };
            return stepImages[step] || '';
        }

        // Global functions
        window.startQuiz = function() {
            currentStep = 0;
            renderApp();
        };

        window.nextStep = function() {
            if (currentStep < totalSteps - 1) {
                currentStep++;
                renderApp();
            } else {
                alert('Quiz completed! This is where you would integrate with your Flutter app.');
            }
        };

        window.goBack = function() {
            if (currentStep > 0) {
                currentStep--;
                renderApp();
            }
        };

        window.selectGender = function(gender) {
            answers.gender = gender;
            renderApp();
        };

        window.selectGoal = function(goal) {
            answers.goal = goal;
            renderApp();
        };

        window.updateAnswer = function(field, value) {
            answers[field] = value;
            renderApp();
        };

        // Initialize app
        renderApp();
    </script>
</body>
</html>



